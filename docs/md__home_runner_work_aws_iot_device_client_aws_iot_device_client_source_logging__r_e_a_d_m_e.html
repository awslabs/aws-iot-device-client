<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AWS IoT Device Client: Logging</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AWS IoT Device Client
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Logging </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>Notice:</b> Running the AWS IoT Device Client will incur usage of AWS IoT services, and is likely to incur charges on your AWS account. Please refer the pricing pages for <a href="https://aws.amazon.com/iot-core/pricing/">AWS IoT Core</a>, <a href="https://aws.amazon.com/iot-device-management/pricing/">AWS IoT Device Management</a>, and <a href="https://aws.amazon.com/iot-device-defender/pricing/">AWS IoT Device Defender</a> for more details.</p>
<ul>
<li><a href="#logging">Logging</a><ul>
<li><a href="#logging-configuration-options">Logging Configuration Options</a><ul>
<li><a href="#configuring-the-logger-via-the-command-line">Configuring the logger via the command line</a></li>
<li><a href="#configuring-sdk-logging-via-the-command-line">Configuring SDK logging via the command line</a></li>
<li><a href="#configuring-the-logger-via-the-json-configuration-file">Configuring the logger via the JSON configuration file</a></li>
<li><a href="#configuring-sdk-logging-via-the-json-configuration-file">Configuring SDK logging via the JSON configuration file</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>*Back To The Main Readme*</p>
<h1><a class="anchor" id="autotoc_md36"></a>
Logging</h1>
<p>The AWS IoT Device Client has the capability to log directly to standard output or write logs to a log file. For either option, the logging level can be specified as either DEBUG, INFO, WARN, or ERROR. The logger implementation can be specified as either "STDOUT" (for standard output) or "FILE" (for logging to a file). If file based logging is specified, you can also specify a file to log to. If a file is not specified, the Device Client will log to the default log location of <code>/var/log/aws-iot-device-client/aws-iot-device-client.log</code>. Keep in mind that the Device Client will need elevated permissions to log to this location, and will automatically fall back to STDOUT logging if the Device Client is unable to log to either the specified or default location.</p>
<p>The AWS IoT Device Client also provides the ability to enable native SDK logging from the AWS Common Runtime (CRT). By default, enabling this functionality will log TRACE level logs and above to <code>/var/log/aws-iot-device-client/sdk.log</code> but these defaults can be overridden as show below. If no configuration options are passed, SDK logging is disabled by default.</p>
<h2><a class="anchor" id="autotoc_md37"></a>
Logging Configuration Options</h2>
<h3><a class="anchor" id="autotoc_md38"></a>
Configuring the logger via the command line</h3>
<div class="fragment"><div class="line">./aws-iot-device-client --log-level WARN --log-type FILE --log-file ./aws-iot-device-client.log</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md39"></a>
Configuring SDK logging via the command line</h3>
<div class="fragment"><div class="line">./aws-iot-device-client --enable-sdk-logging --sdk-log-level Warn --sdk-log-file /home/user/my-log-file.log</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md40"></a>
Configuring the logger via the JSON configuration file</h3>
<div class="fragment"><div class="line">{</div>
<div class="line">    ...</div>
<div class="line">    &quot;logging&quot;: {</div>
<div class="line">        &quot;level&quot;: &quot;WARN&quot;,</div>
<div class="line">        &quot;type&quot;: &quot;FILE&quot;,</div>
<div class="line">        &quot;file&quot;: &quot;./aws-iot-device-client.log&quot;</div>
<div class="line">    }</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --><p> If you've decided to add additional logs to the AWS IoT Device Client's source code, the high-level logging API macros can be found in <code><a class="el" href="_logger_factory_8h_source.html">source/logging/LoggerFactory.h</a></code> and typically follow the convention of <code>LOG_XXXX</code> for simple log messages and <code>LOGM_XXXX</code> for logs that should be formatted with variadic arguments.</p>
<h3><a class="anchor" id="autotoc_md41"></a>
Configuring SDK logging via the JSON configuration file</h3>
<div class="fragment"><div class="line">{</div>
<div class="line">        ...</div>
<div class="line">        &quot;logging&quot;: {</div>
<div class="line">            ...</div>
<div class="line">            &quot;enable-sdk-logging&quot;: true,</div>
<div class="line">            &quot;sdk-log-level&quot;: &quot;Warn&quot;,</div>
<div class="line">            &quot;sdk-log-file&quot;: &quot;/home/user/my-log-file.log&quot;</div>
<div class="line">        }</div>
<div class="line">        ...</div>
<div class="line">    }</div>
</div><!-- fragment --><p><a href="#logging"><em>Back To The Top</em></a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
